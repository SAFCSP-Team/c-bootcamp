# Storage Classes

In C, a **storage class** defines the **scope**, **lifetime**, **memory location**, and **linkage** of variables or functions. There are four types of storage classes in C:

1. **auto**
2. **register**
3. **static**
4. **extern**

Each storage class serves a specific purpose. Letâ€™s discuss each with an example.


### 1. auto 

- Default storage class for local variables.
- Scope: Limited to the block in which it is declared.
- Lifetime: Exists only during the execution of the block (automatic storage duration).
- Declaring `auto` is optional because all variables inside a block are `auto` by default.

Example:
```c
#include <stdio.h>

void display() {
    auto int x = 10; // 'auto' keyword is optional
    printf("Value of x: %d\n", x); // Output: Value of x: 10
}

int main() {
    display();
    return 0;
}
```

>[!Note]
> You rarely use `auto` explicitly because it is implied by default for local variables.



### 2. register

- Suggests that the variable be stored in a CPU register instead of RAM for faster access.
- Scope: Limited to the block in which it is declared.
- Lifetime: Exists only during the execution of the block.
- You cannot get the address of a `register` variable using the `&` operator because it may not be stored in memory.

Example:
```c
#include <stdio.h>

void display() {
    register int i; // to store 'i' in a CPU register for speed
    for (i = 1; i <= 5; i++) {
        printf("%d ", i); // Output: 1 2 3 4 5
    }
}

int main() {
    display();
    return 0;
}
```

>[!Note]
>The compiler may ignore the `register` keyword if no CPU registers are available.



### 3. static 

- Used to extend the lifetime of a variable to the entire program, even though its scope is limited to the block or file where it is declared.
- Scope: Depends on where it is declared:
  - Local static: Local to the function, but retains its value between function calls.
  - Global static: Global to the file, but not accessible from other files
- Lifetime: Retains its value throughout the program execution.
- Linkage: Internal linkage when declared at the file level.

Example 1: Static Variable in a Function
```c
#include <stdio.h>

void counter() {
    static int count = 0; // Static variable retains its value
    count++;
    printf("Count: %d\n", count);
}

int main() {
    counter(); // Output: Count: 1
    counter(); // Output: Count: 2
    counter(); // Output: Count: 3
    return 0;
}
```
- The `count` variable is initialized only once.  
- Its value is retained between function calls.

Example 2: Static Function
```c
#include <stdio.h>

static void greet() { // Static function
    printf("Hello from a static function!\n");
}

int main() {
    greet(); // Output: Hello from a static function!
    return 0;
}
```

> [!Note]
> A static function is accessible only within the file where it is defined (internal linkage).

### 4. extern

- Used to declare a **global variable** or function that is defined in another file or scope.
- **Scope**: Global across all files where it is declared.
- **Lifetime**: Retains its value throughout the program execution.
- **Linkage**: External linkage.

Example:

**File 1: data.c**
```c
int count = 10;// Definition of the extern variable
```

**File 2: main.c**
```c
#include <stdio.h>

extern int count; // Declaration of the extern variable that is defined in data.c

int main() {
    printf("Count: %d\n", count); // Output: Count: 10
    return 0;
}
```


- Compilation:
  ```bash
  gcc main.c data.c -o program
  ./program
  ```
  
- The `count` variable is declared as `extern` in `main.c` and defined in `data.c`.  
- The `extern` keyword tells the compiler that the variable exists in another file.


## Practice
Create a multi-file program that demonstrates the use of all storage classes.

