# Preprocessor Directives 


Preprocessor directives are special instructions that the **C preprocessor** processes **before your code is compiled**. These directives begin with the `#` symbol and control how the source file is processed, allowing you to include files, define macros, conditionally compile code, and more.

## Types of Preprocessor Directives

### 1. File Inclusion: `#include`

Inserts the contents of another file into your source code.

- **Angle brackets `< >`**: Typically used for standard library or system header files. The preprocessor searches standard directories.
```c
#include <stdio.h>
``` 
- **Double quotes `" "`**: Used for user-defined or project-specific headers. The compiler searches the current directory first.
```c
#include "myheader.h"
```

### 2. Macro Definition: `#define`

Creates symbolic names or macros for values or code snippets.

- **Simple macro**:
```c
#define PI 3.14159
#define SIZE 100
```
- **Macro with arguments** (similar to inline functions):
```c
#define SQUARE(x) ((x) * (x))
```
>[!NOTE]
> No memory is allocated; the preprocessor replaces all occurrences before compilation.

#### Example

```c
#include <stdio.h>
#define GREET "Hello, World!"

int main() {
    printf("%s\n", GREET);
    return 0;
}
```
- Output:  
```
Hello, World!
```

#### Predefined Macros

C provides several **predefined macros** for information about compilation:

| Macro      | Description                        
|------------|------------------------------------|
| `__FILE__` | Current file name as string        | 
| `__LINE__` | Current line number as integer     | 
| `__DATE__` | Date of compilation as string      |
| `__TIME__` | Time of compilation as string      |
| `__STDC__` | 1 if compiler conforms to ANSI C   |

#### Example
```c
#include <stdio.h>

int main() {
    printf("File: %s\n", __FILE__);
    printf("Line: %d\n", __LINE__);
    printf("Date: %s\n", __DATE__);
    printf("Time: %s\n", __TIME__);
    return 0;
}
```
- Output:  
```
File: /tmp/dYJyRFDY1J/main.c
Line: 5
Date: Dec 9 2025
Time: 11:50:39
```

### 3. Undefining Macros: `#undef`
Removes a macro definition.
```c
#define TEMP 10
#undef TEMP
```

### 4. Conditional Compilation
Controls which parts of the code are compiled based on conditions.

| Directive        | Description                                              |
|------------------|----------------------------------------------------------|
| `#ifdef MACRO`   | If `MACRO` is defined                                    |
| `#ifndef MACRO`  | If `MACRO` is *not* defined                              |
| `#if EXPRESSION` | If the expression evaluates to true                      |
| `#elif`          | Else if                                                  |
| `#else`          | Else                                                     |
| `#endif`         | End of conditional block                                 |


#### Example
```c
#include <stdio.h>
#define DEBUG

int main() {
#ifdef DEBUG
    printf("Debug mode is ON\n");
#endif
    printf("Program running\n");
    return 0;
}
```
- Output:  
```
Debug mode is ON  
Program running
```


### 5. Error Directive: `#error`

Forces the compiler to stop with a custom error message.

#### Example
```c
#if __STDC_VERSION__ < 199901L
#error "C99 or later required"
#endif
```


### 6. Line Control: `#line`

Sets the compiler's reported line number and optional filename, useful for debugging or code generation.

 #### Example
```c
// line_directive.c
int main()
{
#line 10
    printf( "This code is on line %d, in file %s\n", __LINE__, __FILE__ );
#line 20 "hello.c"
    printf( "This code is on line %d, in file %s\n", __LINE__, __FILE__ );
}
```
- Output:  
```
This code is on line 10, in file line_directive.c
This code is on line 20, in file hello.c
```

### 7. Pragmas: `#pragma`

Provides special instructions to the compiler, often for non-standard features. The behavior depends on the compiler.

| Example           | Description                                                |
|-------------------|------------------------------------------------------------|
| `#pragma startup` | Runs a function before the `main()` function               |
| `#pragma exit`    | Runs a function before the program ends                    |
| `#pragma warn`    | Used to hide the warning messages                          |
| `#pragma once`    | Ensures a header file is included only once                |

>[!NOTE]
> Some pragmas like #pragma startup and #pragma exit are not standard in C and may only work in some compilers.

## Example 

```c
#include <stdio.h>
#define DEBUG
#define SQUARE(x) ((x)*(x))

int main() {
    int num = 5;
#ifdef DEBUG
    printf("Debug: Calculating square of %d\n", num);
#endif
    printf("Square: %d\n", SQUARE(num));
    return 0;
}
```
**Output:**
```
Debug: Calculating square of 5
Square: 25
```


## Practice
Write a program that defines a macro to swap the values of two integer variables (both must be greater than 0). Use this macro in your code to swap two integers and display their values before and after the swap.

**Example Output:**
```
Before swap: a = 3, b = 7
After swap:  a = 7, b = 3
```


